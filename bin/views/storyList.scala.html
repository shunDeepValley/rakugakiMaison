<!DOCTYPE html>
<html lang="ja">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<title>ラクガキメゾン</title>
	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
	<link rel="stylesheet" media="screen" href="@routes.Assets.versioned("stylesheets/common.css")">
	<link href="https://fonts.googleapis.com/earlyaccess/nicomoji.css" rel="stylesheet">
</head>
<body>
	<progModal></progModal>
	<div align="center">
		<a href="/" >
			<img src="@routes.Assets.versioned("images/title.png")" class="header">
		</a>
	</div>
	<div id="main" class="hide">
		<ul class="nav">
			<li class="col-md-6">
				<label for="category">カテゴリ</label>
				<select class="custom-select" id="category"  v-model="selectedCatgoryId" v-on:change="change" >
					<option selected value="none"></option>
					<option v-for="category in orderedCategory" v-bind:value="category.categoryId" v-text="category.categoryName" ></option>
				</select>
			</li>
			<li class="col-md-6">
				<label for="title">作品</label>
				<select class="custom-select" id="title"  v-model="selectedTitleId"  v-on:change="change">
					<option selected value="none"></option>
					<option v-for="title in orderedtitle" v-bind:value="title.titleId" v-text="title.titleName"></option>
				</select>
			</li>
		</ul>
		<div class="headerButton">
			<button id="sort" type="button" class="btn btn-outline-dark btn-sm" onclick="onClickOrderedStory()">並び替え</button>
		</div>
		<div id="story"  class="summary">
			<div v-for="story in orderedStoryList" v-bind:id="story.storyId"  class="card listItem"  v-show="story.isShow">
				<a v-bind:href="'/story?mainId=' + story.mainId" class="card-link row" >
					<div class="col-sm-6">
						<img class="thumbnailImg" v-bind:src="story.thumbnailImgBlob">
					</div>
					<div class="col px-sm-2">
				    	<h6 class="card-title">[{{story.categoryName}}]<br>{{story.titleName}}</h6>
				    	<p class="card-text">{{story.storyCnt}}話<br>"{{story.storyName}}"</p>
				    	<p class="card-text">
				    		<pre><small class="text-muted"> {{story.storyUpdDateStr}} 更新</small>　<img src="@routes.Assets.versioned("images/book.svg")" class="icon" > {{story.watchCnt}}</pre>
				    	</p>
					</div>
				</a>
			</div>
		</div>
	</div>
	<script src="https://code.jquery.com/jquery-3.5.0.js" integrity="sha256-r/AaFHrszJtwpe+tHyNi/XCfMxYpbsRg2Uqn0x3s2zc=" crossorigin="anonymous"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
	<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>
	<script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/axios/0.19.2/axios.js"></script>
	<script src="@routes.Assets.versioned("javascripts/common.js")" type="text/javascript"></script>
	<script src="@routes.Assets.versioned("javascripts/coModal.js")" type="text/javascript"></script>
	<script src="@routes.Assets.versioned("javascripts/coStoryList.js")" type="text/javascript"></script>
	<script src="@routes.Assets.versioned("javascripts/storyList.js")" type="text/javascript"></script>
</body>
</html>